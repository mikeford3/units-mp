

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Usage &mdash; mp-units 0.7.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Framework Basics" href="framework.html" />
    <link rel="prev" title="Quick Start" href="quick_start.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> mp-units
          

          
          </a>

          
            
            
              <div class="version">
                0.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#repository-structure-and-dependencies">Repository Structure and Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#obtaining-dependencies">Obtaining Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#conan-quick-intro">Conan Quick Intro</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#build-options">Build Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#environment-variables">Environment Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#conan-run-tests">CONAN_RUN_TESTS</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#conan-options">Conan Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#downcast-mode">downcast_mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#build-docs">build_docs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cmake-options">CMake Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#units-downcast-mode">UNITS_DOWNCAST_MODE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#units-build-docs">UNITS_BUILD_DOCS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installation-and-reuse">Installation and Reuse</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#copy">Copy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-cmake">Copy + CMake</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conan-cmake-release">Conan + CMake (release)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conan-cmake-live-at-head">Conan + CMake (Live At Head)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#contributing-or-just-building-all-the-tests-examples-and-documentation">Contributing (or just building all the tests, examples, and documentation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#packaging">Packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uploading-mp-units-package-to-the-conan-server">Uploading <strong>mp-units</strong> Package to the Conan Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="framework.html">Framework Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design Deep Dive</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference/core.html">Core Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/systems.html">Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/random.html">Random</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mp-units</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This library targets C++23/26 and extensively uses C++20 features. This is why it requires the latest C++
compilers. The following compilers (or newer) are supported:</p>
<ul class="simple">
<li><p>gcc-10</p></li>
<li><p>clang-12</p></li>
<li><p>Visual Studio 16.9</p></li>
</ul>
</div>
<div class="section" id="repository-structure-and-dependencies">
<h2>Repository Structure and Dependencies<a class="headerlink" href="#repository-structure-and-dependencies" title="Permalink to this headline">¶</a></h2>
<p>This repository contains three independent CMake-based projects:</p>
<ul class="simple">
<li><p><em>./src</em></p>
<ul>
<li><p>header-only project containing whole <strong>mp-units</strong> library</p></li>
<li><p>when this library will become part of the C++ standard it will have no external dependencies
but until then it depends on:</p>
<ul>
<li><p><a class="reference external" href="https://github.com/fmtlib/fmt">{fmt}</a> to provide text formatting of quantities.</p></li>
<li><p><a class="reference external" href="https://github.com/gsl-lite/gsl-lite">gsl-lite</a> to verify runtime contracts with the <code class="docutils literal notranslate"><span class="pre">gsl_Expects</span></code> macro.</p></li>
<li><p>[only for clang-12 with libc++] <a class="reference external" href="https://github.com/ericniebler/range-v3">range-v3</a> to provide needed C++20 concepts and utilities.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><em>.</em></p>
<ul>
<li><p>project used as an entry point for library development and CI/CD</p></li>
<li><p>it wraps <em>./src</em> project together with usage examples and tests</p></li>
<li><p>additionally to the dependencies of <em>./src</em> project, it uses:</p>
<ul>
<li><p><a class="reference external" href="https://github.com/catchorg/Catch2">Catch2</a> library as a unit tests framework.</p></li>
<li><p><a class="reference external" href="https://github.com/BobSteagall/wg21/tree/master/linear_algebra/code">linear algebra</a>
library based on proposal <a class="reference external" href="https://wg21.link/P1385">P1385</a> used in some examples
and tests.</p></li>
<li><p><a class="reference external" href="http://www.doxygen.nl">Doxygen</a> to extract C++ entities information from the source
code.</p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org">Sphinx</a> to build the documentation.</p></li>
<li><p><a class="reference external" href="https://recommonmark.readthedocs.io">Sphinx recommonmark</a>.</p></li>
<li><p><a class="reference external" href="https://breathe.readthedocs.io/">Breathe</a> as a bridge between the Sphinx and Doxygen
documentation systems.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><em>./test_package</em></p>
<ul>
<li><p>library installation and Conan package verification.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="obtaining-dependencies">
<h2>Obtaining Dependencies<a class="headerlink" href="#obtaining-dependencies" title="Permalink to this headline">¶</a></h2>
<p>This library assumes that most of the dependencies will be provided by the
<a class="reference external" href="https://conan.io/">Conan Package Manager</a>. In case you would like to obtain required
dependencies by other means some modifications to library’s CMake files might be needed.
The rest of the dependencies responsible for documentation generation are provided by
<strong class="command">python3-pip</strong>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>A full list of dependencies can be found in <a class="reference internal" href="#repository-structure-and-dependencies">Repository Structure and Dependencies</a>.</p>
</div>
<div class="section" id="conan-quick-intro">
<h3>Conan Quick Intro<a class="headerlink" href="#conan-quick-intro" title="Permalink to this headline">¶</a></h3>
<p>In case you are not familiar with Conan, to install it (or upgrade) just do:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip3 install -U conan
</pre></div>
</div>
<p>After that you might need to add a custom profile file for your development environment
in <em>~/.conan/profiles</em> directory. An example profile can look as follows:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[settings]</span>
<span class="na">os</span><span class="o">=</span><span class="s">Linux</span>
<span class="na">os_build</span><span class="o">=</span><span class="s">Linux</span>
<span class="na">arch</span><span class="o">=</span><span class="s">x86_64</span>
<span class="na">arch_build</span><span class="o">=</span><span class="s">x86_64</span>
<span class="na">compiler</span><span class="o">=</span><span class="s">gcc</span>
<span class="na">compiler.version</span><span class="o">=</span><span class="s">10</span>
<span class="hll"><span class="na">compiler.cppstd</span><span class="o">=</span><span class="s">20</span>
</span><span class="na">compiler.libcxx</span><span class="o">=</span><span class="s">libstdc++11</span>
<span class="na">build_type</span><span class="o">=</span><span class="s">Release</span>

<span class="k">[options]</span>
<span class="k">[build_requires]</span>

<span class="k">[env]</span>
<span class="na">CC</span><span class="o">=</span><span class="s">/usr/bin/gcc-10</span>
<span class="na">CXX</span><span class="o">=</span><span class="s">/usr/bin/g++-10</span>
<span class="na">CONAN_CMAKE_GENERATOR</span><span class="o">=</span><span class="s">Ninja</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Please note that <strong>mp-units</strong> library requires C++20 to be set either in a Conan profile or forced
via Conan command line. If you do the former, you will not need to provide <code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">compiler.cppstd=20</span></code>
every time your run a Conan command line (as it is suggested below).</p>
</div>
</div>
</div>
<div class="section" id="build-options">
<h2>Build Options<a class="headerlink" href="#build-options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="environment-variables">
<h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h3>
<div class="section" id="conan-run-tests">
<h4>CONAN_RUN_TESTS<a class="headerlink" href="#conan-run-tests" title="Permalink to this headline">¶</a></h4>
<p><strong>Values</strong>: <code class="docutils literal notranslate"><span class="pre">True</span></code>/<code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p><strong>Defaulted to</strong>: <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p>Enables compilation of all the source code (tests and examples) and building the documentation.
To support this it requires some additional Conan build dependencies described in
<a class="reference internal" href="#repository-structure-and-dependencies">Repository Structure and Dependencies</a>.
It also runs unit tests during Conan build.</p>
</div>
</div>
<div class="section" id="conan-options">
<h3>Conan Options<a class="headerlink" href="#conan-options" title="Permalink to this headline">¶</a></h3>
<div class="section" id="downcast-mode">
<h4>downcast_mode<a class="headerlink" href="#downcast-mode" title="Permalink to this headline">¶</a></h4>
<p><strong>Values</strong>: <code class="docutils literal notranslate"><span class="pre">off</span></code>/<code class="docutils literal notranslate"><span class="pre">on</span></code>/<code class="docutils literal notranslate"><span class="pre">auto</span></code></p>
<p><strong>Defaulted to</strong>: <code class="docutils literal notranslate"><span class="pre">on</span></code></p>
<p>Specifies how <a class="reference internal" href="design/downcasting.html#the-downcasting-facility"><span class="std std-ref">The Downcasting Facility</span></a> works:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">off</span></code> - no downcasting at all</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on</span></code> - downcasting always forced -&gt; compile-time errors in case of duplicated definitions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">automatic</span></code> - downcasting automatically enabled if no collisions are present</p></li>
</ul>
</div>
<div class="section" id="build-docs">
<h4>build_docs<a class="headerlink" href="#build-docs" title="Permalink to this headline">¶</a></h4>
<p><strong>Values</strong>: <code class="docutils literal notranslate"><span class="pre">True</span></code>/<code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<p><strong>Defaulted to</strong>: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<p>If enabled, Conan installs the documentation generation dependencies (i.e. doxygen).
Additionally, enables project documentation generation when the project is being built by Conan.</p>
</div>
</div>
<div class="section" id="cmake-options">
<h3>CMake Options<a class="headerlink" href="#cmake-options" title="Permalink to this headline">¶</a></h3>
<div class="section" id="units-downcast-mode">
<h4>UNITS_DOWNCAST_MODE<a class="headerlink" href="#units-downcast-mode" title="Permalink to this headline">¶</a></h4>
<p><strong>Values</strong>: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>/<code class="docutils literal notranslate"><span class="pre">ON</span></code>/<code class="docutils literal notranslate"><span class="pre">AUTO</span></code></p>
<p><strong>Defaulted to</strong>: <code class="docutils literal notranslate"><span class="pre">ON</span></code></p>
<p>Equivalent to <a class="reference internal" href="#downcast-mode">downcast_mode</a>.</p>
</div>
<div class="section" id="units-build-docs">
<h4>UNITS_BUILD_DOCS<a class="headerlink" href="#units-build-docs" title="Permalink to this headline">¶</a></h4>
<p><strong>Values</strong>: <code class="docutils literal notranslate"><span class="pre">ON</span></code>/<code class="docutils literal notranslate"><span class="pre">OFF</span></code></p>
<p><strong>Defaulted to</strong>: <code class="docutils literal notranslate"><span class="pre">ON</span></code></p>
<p>Enables project documentation generation.</p>
</div>
</div>
</div>
<div class="section" id="installation-and-reuse">
<h2>Installation and Reuse<a class="headerlink" href="#installation-and-reuse" title="Permalink to this headline">¶</a></h2>
<p>There are many different ways of installing/reusing <strong>mp-units</strong> in your project. Below we mention
only a few of many options possible.</p>
<div class="section" id="copy">
<h3>Copy<a class="headerlink" href="#copy" title="Permalink to this headline">¶</a></h3>
<p>As <strong>mp-units</strong> is a C++ header-only library you can simply copy <em>src/include</em> directory to
your source tree and use it as regular header files.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In such a case you are on your own to make sure all the dependencies are installed and their header
files can be located during the build. Please also note that some compiler-specific flags are needed
to make the code compile without issues.</p>
</div>
</div>
<div class="section" id="copy-cmake">
<h3>Copy + CMake<a class="headerlink" href="#copy-cmake" title="Permalink to this headline">¶</a></h3>
<p>In case you copy the whole <strong>mp-units</strong> repository to your project’s file tree you can reuse CMake targets
defined by the library. To do so you should use <em>CMakeLists.txt</em> file from the <em>./src</em> directory:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">add_subdirectory</span><span class="p">(</span><span class="s">&lt;path_to_units_folder&gt;/src</span><span class="p">)</span>
<span class="c"># ...</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">&lt;your_target&gt;</span> <span class="s">&lt;PUBLIC|PRIVATE|INTERFACE&gt;</span> <span class="s">mp-units::mp-units</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You are still on your own to make sure all the dependencies are installed and their header and CMake
configuration files can be located during the build.</p>
</div>
</div>
<div class="section" id="conan-cmake-release">
<h3>Conan + CMake (release)<a class="headerlink" href="#conan-cmake-release" title="Permalink to this headline">¶</a></h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are new to Conan package manager it is highly recommended to read <a class="reference internal" href="#obtaining-dependencies">Obtaining Dependencies</a>
and refer to <a class="reference external" href="https://docs.conan.io/en/latest/getting_started.html">Getting Started</a> and
<a class="reference external" href="https://docs.conan.io/en/latest/using_packages.html">Using packages</a> chapters
of the official Conan documentation for more information.</p>
</div>
<p><strong>mp-units</strong> releases are hosted on <a class="reference external" href="https://conan.io/center/">Conan-Center</a>. To obtain official
library release the following steps may be performed:</p>
<ol class="arabic simple">
<li><p>Create Conan configuration file (either <em>conanfile.txt</em> or <em>conanfile.py</em>) in your
project’s top-level directory and add <strong>mp-units</strong> as a dependency of your project.
For example the simplest file may look as follows:</p></li>
</ol>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">conanfile.txt</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[requires]</span>
<span class="na">mp-units/0.6.0</span>

<span class="k">[generators]</span>
<span class="na">CMakeToolchain</span>
<span class="na">CMakeDeps</span>
</pre></div>
</div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Import <strong>mp-units</strong> and its dependencies definitions to your project’s build procedure
with <code class="docutils literal notranslate"><span class="pre">find_package</span></code>:</p></li>
</ol>
<blockquote>
<div><div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">mp-units</span> <span class="s">CONFIG</span> <span class="s">REQUIRED</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Link your CMake targets with <strong>mp-units</strong>:</p></li>
</ol>
<blockquote>
<div><div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">&lt;your_target&gt;</span> <span class="s">&lt;PUBLIC|PRIVATE|INTERFACE&gt;</span> <span class="s">mp-units::mp-units</span><span class="p">)</span>
<span class="nb">target_compile_features</span><span class="p">(</span><span class="s">&lt;your_target&gt;</span> <span class="s">&lt;PUBLIC|PRIVATE|INTERFACE&gt;</span> <span class="s">cxx_std_20</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Unfortunately, packages distributed via Conan-Center cannot force the minimum version
of the C++ language used for your build process. This is why it is important to specify
it in <a class="reference external" href="ConanQuickIntro">Conan profile file</a> and with <code class="docutils literal notranslate"><span class="pre">target_compile_features</span></code> command
for each CMake target directly linking with <code class="docutils literal notranslate"><span class="pre">mp-units::mp-units</span></code> in your project.</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Download, build, and install Conan dependencies before running CMake configuration step:</p></li>
</ol>
<blockquote>
<div><div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
conan install .. -pr &lt;your_conan_profile&gt; -s compiler.cppstd<span class="o">=</span><span class="m">20</span> -b<span class="o">=</span>missing
cmake .. -DCMAKE_TOOLCHAIN_FILE<span class="o">=</span>conan_toolchain.cmake
cmake --build .
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="conan-cmake-live-at-head">
<h3>Conan + CMake (Live At Head)<a class="headerlink" href="#conan-cmake-live-at-head" title="Permalink to this headline">¶</a></h3>
<p>This chapter describes the procedure to Live At Head which means to use the latest version
of <strong>mp-units</strong> all the time.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please note that even though the Conan packages that you will be using are generated <strong>ONLY</strong>
for builds that are considered stable (passed our CI tests) some minor regressions may happen
(our CI and C++20 build environment is not perfect yet). Also, please expect that the library
interface might, and probably will, change from time to time. Even though we do our best, such
changes might not be reflected in the project’s documentation right away.</p>
</div>
<p>The procedure is similar to the one described in <a class="reference internal" href="#conan-cmake-release">Conan + CMake (release)</a> with the following
differences:</p>
<ol class="arabic simple">
<li><p>Before starting the previous procedure add <strong>mp-units</strong> remote to your Conan configuration:</p></li>
</ol>
<blockquote>
<div><div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conan remote add conan-mpusz https://api.bintray.com/conan/mpusz/conan-mpusz
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>In your Conan configuration file provide package identifier of the <code class="docutils literal notranslate"><span class="pre">mpusz/testing</span></code> stream:</p></li>
</ol>
<blockquote>
<div><div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">conanfile.txt</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[requires]</span>
<span class="na">mp-units/0.7.0@mpusz/testing</span>

<span class="k">[generators]</span>
<span class="na">CMakeToolchain</span>
<span class="na">CMakeDeps</span>
</pre></div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The identifiers of the latest packages can always be found in
<a class="reference external" href="https://github.com/mpusz/units/blob/master/README.md">the project’s README file</a> or on
<a class="reference external" href="https://bintray.com/mpusz/conan-mpusz/mp-units%3Ampusz">the project’s Bintray</a>.</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Force Conan to check for updated recipes <code class="docutils literal notranslate"><span class="pre">-u</span></code> and to build outdated packages <code class="docutils literal notranslate"><span class="pre">-b</span> <span class="pre">outdated</span></code>:</p></li>
</ol>
<blockquote>
<div><div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
conan install .. -pr &lt;your_conan_profile&gt; -s compiler.cppstd<span class="o">=</span><span class="m">20</span> -b<span class="o">=</span>outdated -u
cmake .. -DCMAKE_TOOLCHAIN_FILE<span class="o">=</span>conan_toolchain.cmake
cmake --build .
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="contributing-or-just-building-all-the-tests-examples-and-documentation">
<h2>Contributing (or just building all the tests, examples, and documentation)<a class="headerlink" href="#contributing-or-just-building-all-the-tests-examples-and-documentation" title="Permalink to this headline">¶</a></h2>
<p>In case you would like to build all the source code (with unit tests and examples) and documentation
in <strong>mp-units</strong> repository, you should:</p>
<ol class="arabic simple">
<li><p>Add remotes of additional Conan dependencies.</p></li>
<li><p>Use the <em>CMakeLists.txt</em> from the top-level directory.</p></li>
<li><p>Obtain Python dependencies.</p></li>
<li><p>Run Conan with <a class="reference internal" href="#conan-run-tests">CONAN_RUN_TESTS</a> = <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conan remote add linear-algebra https://api.bintray.com/conan/twonington/public-conan
git clone https://github.com/mpusz/units.git <span class="o">&amp;&amp;</span> <span class="nb">cd</span> units
pip3 install -r docs/requirements.txt
mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
conan install .. -pr &lt;your_conan_profile&gt; -s compiler.cppstd<span class="o">=</span><span class="m">20</span> -e mp-units:CONAN_RUN_TESTS<span class="o">=</span>True -b outdated -u
conan build ..
</pre></div>
</div>
<p>The above will download and install all of the dependencies needed for the development of the library,
build all of the source code and documentation, and run unit tests.</p>
<p>If you prefer to build the project via CMake rather then Conan, then you should replace the last <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">build</span> <span class="pre">..</span></code>
step with the CMake build:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># ...</span>
cmake .. -DCMAKE_TOOLCHAIN_FILE<span class="o">=</span>conan_toolchain.cmake
cmake --build .
ctest
</pre></div>
</div>
</div>
<div class="section" id="packaging">
<h2>Packaging<a class="headerlink" href="#packaging" title="Permalink to this headline">¶</a></h2>
<p>To test CMake installation and Conan packaging or create a Conan package run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conan create . &lt;username&gt;/&lt;channel&gt; -pr &lt;your_conan_profile&gt; -s compiler.cppstd<span class="o">=</span><span class="m">20</span> -e mp-units:CONAN_RUN_TESTS<span class="o">=</span>True -b outdated -u
</pre></div>
</div>
<p>The above will create a Conan package and run tests provided in <em>./test_package</em> directory.</p>
</div>
<div class="section" id="uploading-mp-units-package-to-the-conan-server">
<h2>Uploading <strong>mp-units</strong> Package to the Conan Server<a class="headerlink" href="#uploading-mp-units-package-to-the-conan-server" title="Permalink to this headline">¶</a></h2>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conan upload -r &lt;remote-name&gt; --all mp-units/0.7.0@&lt;user&gt;/&lt;channel&gt;
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="framework.html" class="btn btn-neutral float-right" title="Framework Basics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quick_start.html" class="btn btn-neutral float-left" title="Quick Start" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2018-present, Mateusz Pusz

    </p>
  </div>
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>